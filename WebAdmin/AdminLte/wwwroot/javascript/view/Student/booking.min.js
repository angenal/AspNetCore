/*!
 *   Student Register Booking Page JavaScript v1.0.0
 *   Author: Danvic712
 */
$(function(){$(document).on("click","#service_detail",function(){$.ajax({type:"GET",dataType:"html",url:"/Student/Register/ServiceInfo",data:{id:$(this).attr("data-id")},success:function(n){bootbox.dialog({title:"迎新服务详细信息",message:n})}})});$(document).on("click","#book_service",function(){$.ajax({type:"GET",dataType:"html",url:"/Student/Register/BookingService",data:{Id:$(this).attr("data-id"),IsBooking:$(this).attr("data-booking")},success:function(n){bootbox.dialog({title:"预定迎新服务",message:n})}})});$(document).on("click","#book_serviceInfo",function(){$.ajax({type:"GET",dataType:"html",url:"/Student/Register/BookingService",data:{id:$(this).attr("data-id"),IsBooking:$(this).attr("data-booking")},success:function(n){bootbox.dialog({title:"迎新服务预定详情",message:n})},error:function(n){console.log(n.responseText)}})});$(document).on("click","#book_save",function(){if($("#book_tel").val()==="")return bootbox.dialog({message:"请输入联系电话"}),!1;if($("#book_count").val()==="0"||$("#book_count").val()==="")return bootbox.dialog({message:"请输入人数"}),!1;if($("#book_place").val()==="")return bootbox.dialog({message:"请输入需要服务地点"}),!1;if($("#book_departuretime").val()==="")return bootbox.dialog({message:"请输入需要服务时间"}),!1;var n={};n.Id=$(this).attr("data-id");n.ServiceId=$("#serviceid").val();n.Tel=$("#book_tel").val();n.Count=$("#book_count").val();n.DepartureTime=$("#book_departuretime").val();n.Place=$("#book_place").val();n.Remark=$("#book_remark").val();$(this).attr("disabled","disabled");$.ajax({type:"POST",url:"/Student/Register/BookingService",data:n,dataType:"json",success:function(n){n.msg!==undefined&&(bootbox.dialog({message:n.msg}),n.success&&setTimeout(function(){bootbox.hideAll();window.location.href=window.location.href},2e3));$("#book_save").removeAttr("disabled")},error:function(n){console.log(n);$("#book_save").removeAttr("disabled")}})})});