/*!
 *   Administrator Admission Service Edit Page JavaScript v1.0.0
 *   Author: Danvic712
 */
$(function(){$(".date-picker").datetimepicker({autoclose:!0,todayHighlight:!0,language:"zh-CN",weekStart:1,format:"yyyy-mm-dd hh:ii"});$(document).on("click","#save",function(){if($("#name").val().length===0)return bootbox.dialog({message:"服务名称不能为空"}),!1;if($("#starttime").val()==="")return bootbox.dialog({message:"请选择服务开始时间"}),!1;if($("#endtime").val()==="")return bootbox.dialog({message:"请选择服务结束时间"}),!1;if($("#starttime").val()>=$("#endtime").val())return bootbox.dialog({message:"开始时间不能大于等于结束时间"}),!1;if($("#address").val()==="-1")return bootbox.dialog({message:"请选择服务地点"}),!1;if($("#address_custom").val()==="")return bootbox.dialog({message:"请输入服务详细地点"}),!1;var n={};n.Id=$(this).attr("data-id");n.Name=$("#name").val();n.Description=$("#description").val();n.StartTime=$("#starttime").val();n.EndTime=$("#endtime").val();n.Place=$("#address").val();n.Address=$("#address_custom").val();n.IsEnabled=$("#enable").val();$(this).attr("disabled","disabled");$.ajax({type:"POST",url:"/Administrator/Admission/EditService",data:n,dataType:"json",success:function(n){n.msg!==undefined&&(bootbox.dialog({message:n.msg}),n.success&&setTimeout(function(){window.location.href="/Administrator/Admission/Service"},2e3));$("#save").removeAttr("disabled")},error:function(n){console.log(n);$("#save").removeAttr("disabled")}})})});